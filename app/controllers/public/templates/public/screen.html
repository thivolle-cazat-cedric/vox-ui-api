{% extends "public/layout.html" %}
{% block body %}

<div class="container">
    
    <div class="row">
        <div class="col-xs-12 col-sm-6 col-md-4 col-lg-3 screen-sm" id="screen1">
            <h4>Tableau de bord</h4>
            <p class="text-center text-muted">
                Visualiser l'état des postes téléphonique
            </p>
            <img src="{{url_for('static', filename='img/screen/dashboard.jpg')}}" alt="vox-ui-api_Tableau_de_bord" class="img img-responsive img-thumbnail"/>
        </div>
        <div class="col-xs-12 col-sm-6 col-md-4 col-lg-3 screen-sm" id="screen2">
            <h4>Vue d'un poste</h4>
            <p class="text-center text-muted">
                Visialiser les lignes actives d'un poste
            </p>
            <img src="{{url_for('static', filename='img/screen/device_view.jpg')}}" alt="vox-ui-api_telephone_vue" class="img img-responsive img-thumbnail"/>
        </div>
        <div class="col-xs-12 col-sm-6 col-md-4 col-lg-3 screen-sm" id="screen3">
            <h4>Gestion des contacts</h4>
            <p class="text-center text-muted">
                
            </p>
            <img src="{{url_for('static', filename='img/screen/contacts.jpg')}}" alt="vox-ui-api_contacts" class="img img-responsive img-thumbnail"/>
        </div>
        <div class="col-xs-12 col-sm-6 col-md-4 col-lg-3 screen-sm" id="screen4">
            <h4>Création de SMS</h4>
            <p class="text-center text-muted">
                Evoyer des Sms à 1 ou plusieurs contacts
            </p>
            <img src="{{url_for('static', filename='img/screen/new_sms.jpg')}}" alt="vox-ui-api_evoie_sms" class="img img-responsive img-thumbnail"/>
        </div>
        <div class="col-xs-12 col-sm-6 col-md-4 col-lg-3 screen-sm" id="screen5">
            <h4>Listing de SMS</h4>
            <p class="text-center text-muted">
                Visualiser vos sms envoyés ou reçus 
            </p>
            <img src="{{url_for('static', filename='img/screen/sms.jpg')}}" alt="vox-ui-api_sms" class="img img-responsive img-thumbnail"/>
        </div>
        <div class="col-xs-12 col-sm-6 col-md-4 col-lg-3 screen-sm" id="screen5">
            <h4>Notification d'appel</h4>
            <p class="text-center text-muted">
                 
            </p>
            <img src="{{url_for('static', filename='img/screen/voxity-ui-api-notification.png')}}" alt="vox-ui-api_sms" class="img img-responsive img-thumbnail"/>
        </div>
    </div>
</div>

<!-- Modal -->
<div class="modal fade" id="screen-zoom" tabindex="-1" role="dialog" aria-labelledby="screen-zoom-label">
    <div class="modal-dialog modal-lg" role="document" style="width: 90%">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="screen-zoom-label"></h4>
            </div>
            <div class="modal-body">
                <img src="" class="img img-responsive img-thumbnail center-block">
                <hr>
                <p class="text-center text-muted"></p>
            </div>
            <div class="modal-footer">
                <div class="btn-group">
                    <button type="button" class="btn btn-default" id="prevScreen"><i class="fa fa-chevron-left"></i></button>
                    <button type="button" class="btn btn-default" id="nextScreen"><i class="fa fa-chevron-right"></i></button>
                    
                </div>
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

{% endblock %}

{% block js %}
<script>
var curentView = null
function showZoom(screen){
    curentView = screen;
    var head =  screen.find('h4').text();
    var desc = screen.find('p').text();
    var imgSrc = screen.find('img').attr('src');
    $('#screen-zoom-label').text(head);
    $('#screen-zoom .modal-body p').text(desc);
    $('#screen-zoom .modal-body img').attr('src', imgSrc);
    $('#screen-zoom').modal('show');
}
function prevScreen(){
    if (curentView && curentView.prev().length == 1) {
        showZoom(curentView.prev());
        return true;
    }
    return false;
}

function nextScreen(){
    if (curentView  && curentView.next().length == 1) {
        showZoom(curentView.next());
        return true
    }
    return false
}

document.body.addEventListener('keydown', function () {
    if (event.keyCode ==  37 ) {
        prevScreen();
    } else if (event.keyCode ==  39) {
        nextScreen();
    }
});

$('.screen-sm img').click(function(){showZoom($(this).parents('.screen-sm'))});
$('#prevScreen').click(prevScreen);
$('#nextScreen').click(nextScreen);
</script>
{% endblock %}
